# 解构

**解构**是从对象中提取出更小元素的过程。

### 数组解构

##### 基本数组解构

从数组中提取值，按照对应位置，对变量赋值。数组解构可以选择性解构元素，不需要解构的元素我们通过使用逗号替代。

```
let arr = [1,2,3];
count[v,g,i] = arr;
console.log(v,g,i); //1,2,3 数组解构
count [a,b] = arr;
console.log(a,b);   //1,2   解构前2个元素，这样我们称之为不完全解构
```

如果解构不成功，变量的值就为undefined。

```
let [b] = [];   //undefined 解构不成功，返回的是undefined
```

##### 默认值

解构赋值是可以指定默认值的。当一个位置返回undefined的时候，默认值才会生效。

```
let [a = 1] = [undefined];
console.log(a)  //1 
```

##### 嵌套数组解构

解构过程，左边的变量和右边的数组元素一一对应下标，可以解构过程深入到下一个层次。

```
let[a,[b,c]] = [1,[4,5]];   
console.log(a,b,c); //1,4,5 
```

##### 不定元素数组解构

通过三个点语法(...)将其余元素赋值给一个特定的变量，必须放在所有解构元素的最末尾，否则报错。

```
let arr = [1,2,3,4,5];
let [...a] = arr;
console.log(a); //1,2,3,4,5 
```

### 对象解构

对象解构和数组解构很相似

##### 基本的对象解构

对象的解构与数组有一个重要的不同。数组的元素是按次序排列的，变量的取值由它的位置决定；而对象的属性没有次序，变量必须与属性同名，才能取到正确的值。

```
let obj = {
    a:'123',
    b:[2,3]
}
count {a,b};
console.log(a,b);   //123 [2,3]
```

##### 默认值

如果对象解构没有对应的同名属性，会取不到值，返回undefined。

```
let{a} = {b:'123',c:'345'}
console.log(a); //undefined 没有对应的a属性，则返回undefined
```

当指定属性不存在时，我们可以指定默认值。

```
let person = {
  name: `xiaoming`,
  age: 13,
}

let { name, age, sex = 'man' } = person;

console.log(sex);
```

##### 嵌套对象解构

解构嵌套对象，我们需要通过冒号前的标识符索引位置查找对象更深层级中的值。

```
let person = {
  name: `xiaoming`,
  age: 13,
  head:{
    num:2
  }
}

let { name, age, sex = 'man',head:{num}} = person;

console.log(num); //2
```

### 解构参数

当定义一个接受大量可选参数的函数时，通常会创建一个可选对象，将额外的参数定义为这个对象的属性，所以当给函数传递参数时，我们就可以对每个参数进行解构。

```
function add([x, y]){
  return x + y;
}

add([1, 2]); // 3
```

### 总结

1. 解构对象和数组。
2. 可以在解构对象和数组过程中设定默认值。
3. 通过解构参数将我们真正用到的数据和其他参数列在一起，使其更加可读。

